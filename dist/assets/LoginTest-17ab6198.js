import{c as N,a as d,am as y,r,u as v,g as S,i as T,j as e,d as i,L as k,e as h,B as q,an as j,o as w}from"./index-b04b101c.js";import{c as u}from"./commonApi-4da8ee31.js";import"./axiosCommon-9012a0c8.js";const I=N({name:d().required("Vui lòng nhập họ tên"),phone:d().required("Vui lòng nhập số điện thoại")}).required();function C(L){y();const[c,s]=r.useState(""),[t,g]=r.useState(null),n=v({defaultValues:{name:"",phone:""},resolver:w(I)}),p=S(),{enqueueSnackbar:x}=T();r.useEffect(()=>{(async(o,a)=>{try{let m=await u.checkBaithi();g(m.data)}catch{s("Không có cuộc thi nào đang diễn ra trong hệ thống phần mềm. Trân trọng!!")}})()},[]);const b=async l=>{let o={...l,id_cuocthi:t._id};s(null);try{let a=await u.loginTest(o);localStorage.setItem("thongtinthisinh",JSON.stringify(a.data.item)),localStorage.setItem("question_list",JSON.stringify(a.data.questionsSendClient)),localStorage.setItem("thongtinbaithi",JSON.stringify(a.data.cuocthi)),p("/vao-thi"),x("Chúc bạn đạt kết quả tốt nhất!",{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"})}catch(a){s(a.response.data.message)}},{isSubmitting:f}=n.formState;return e("div",{className:"flex items-center min-h-screen justify-center bg-center bg-cover  border-white",style:{backgroundImage:"url('/nentrongdong.png')"},children:i("div",{className:"md:basis-1/2 sm:basis-full lg:basis-1/3 p-1 shadow-xl border-2 border-yellow-600 bg-slate-50/80 rounded-lg mx-2",children:[f&&e(k,{}),i("div",{className:"flex flex-col items-center",children:[e("img",{src:"/cong-an-hieu.png",alt:"conganhieu",className:"w-[80px]"}),e("p",{className:"uppercase text-[13px] font-semibold text-[#ab0000]",children:"Công an tỉnh Hưng yên"}),e("p",{className:"font-bold text-[13px] md:text-xl uppercase text-center text-[#ab0000]",children:"Phòng Cảnh sát giao thông"})]}),t&&e("p",{className:"md:text-md text-[13px] mt-2 text-green-700 font-semibold text-center",children:t.tencuocthi}),e("hr",{}),e("div",{className:"absolute inset-0 top-[0px] flex items-center justify-center pointer-events-none z-0",children:e("img",{src:"/logoc08.png",className:"opacity-10 h-[200px]  object-contain",alt:""})}),i("form",{onSubmit:n.handleSubmit(b),className:"mt-1 py-1 px-1",children:[e(h,{name:"name",label:"Họ và tên",form:n,disabled:t===null}),e(h,{name:"phone",label:"Thông tin khác",form:n,disabled:t===null}),c&&e("p",{className:"md:text-md text-sm text-center m-2 text-red-600 font-semibold",children:c}),e("div",{className:"flex space-x-2",children:e("div",{className:"basis-full",children:e(q,{color:"error",type:"submit",disabled:t===null,variant:"contained",startIcon:e(j,{}),fullWidth:!0,style:{margin:"8px auto"},children:"Tham gia thi"})})})]}),e("p",{className:"text-center text-slate-500 text-sm md:text-md",children:"@2026 - Cuộc thi tìm hiểu Luật trật tự, an toàn giao thông đường bộ dành cho Học sinh"})]})})}C.propTypes={};export{C as default};
