import{c as y,a as l,aO as N,r as i,u as v,p as S,C as _,j as e,d as s,L as k,i as c,l as q,aP as w,o as T}from"./index-dc3c6106.js";import{c as u}from"./commonApi-c33acf58.js";const I=y({name:l().required("Vui lòng nhập họ tên"),birthday:l().required("Vui lòng nhập ngày - tháng - năm sinh"),phone:l().required("Vui lòng nhập trường đơn vị như trường, lớp...")}).required();function C(O){N();const[o,r]=i.useState(""),[t,g]=i.useState(null),a=v({defaultValues:{name:"",phone:"",birthday:null},resolver:T(I)}),p=S(),{enqueueSnackbar:x}=_();i.useEffect(()=>{(async(h,n)=>{try{let m=await u.checkBaithi();g(m.data)}catch{r("Không có cuộc thi nào đang diễn ra trong hệ thống phần mềm. Trân trọng!!")}})()},[]);const b=async d=>{let h={...d,id_cuocthi:t._id};r(null);try{let n=await u.loginTest(h);localStorage.setItem("thongtinthisinh",JSON.stringify(n.data.item)),localStorage.setItem("question_list",JSON.stringify(n.data.questionsSendClient)),localStorage.setItem("thongtinbaithi",JSON.stringify(n.data.cuocthi)),p("/vao-thi"),x("Chúc bạn đạt kết quả tốt nhất!",{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"})}catch(n){r(n.response.data.message)}},{isSubmitting:f}=a.formState;return e("div",{className:"flex items-center min-h-screen justify-center bg-center bg-cover  border-white",style:{backgroundImage:"url('/banner.png')"},children:s("div",{className:"md:basis-1/2 sm:basis-full lg:basis-1/3 p-1 shadow-xl border-2 border-yellow-600 bg-slate-50/80 rounded-lg mx-2",children:[f&&e(k,{}),s("div",{className:"flex flex-col items-center",children:[s("div",{className:"flex items-center ",children:[e("img",{src:"/cong-an-hieu.png",alt:"conganhieu",className:"w-[80px]"}),e("img",{src:"/logoc08.png",className:"w-[54px]",alt:""})]}),e("p",{className:"uppercase text-[13px] md:text-[16px] font-bold text-[#ffee00]  [text-shadow:_1px_1px_2px_black]",children:"Công an tỉnh Hưng yên"}),e("p",{className:"font-bold text-[13px] md:text-[16px] uppercase text-center text-[#ffee00]  [text-shadow:_1px_1px_2px_black]",children:"Phòng Cảnh sát giao thông"})]}),t&&e("p",{className:"md:text-md mt-2 text-[13px] text-green-700 font-semibold text-center",children:t.tencuocthi}),e("hr",{}),s("form",{onSubmit:a.handleSubmit(b),className:"px-1",children:[e(c,{name:"name",label:"Họ và tên",form:a,disabled:t===null}),e(c,{name:"birthday",label:"Ngày sinh",form:a,disabled:t===null}),e(c,{name:"phone",label:"Đơn vị",form:a,disabled:t===null}),o&&e("p",{className:"md:text-md text-sm text-center m-2 text-red-600 font-semibold",children:o}),e("div",{className:"flex space-x-2",children:e("div",{className:"basis-full",children:e(q,{color:"warning",type:"submit",disabled:t===null,variant:"contained",startIcon:e(w,{}),fullWidth:!0,style:{margin:"8px auto"},size:"small",children:"Tham gia thi"})})})]}),e("p",{className:"text-center text-slate-800 font-semibold text-[13px] md:text-md",children:"Bản quyền thuộc Phòng cảnh sát giao thông"}),e("p",{className:"text-center text-slate-800 text-[12px] md:text-md",children:"Ứng dụng công nghệ thông tin trong công tác tuyên truyền, phổ biến kiến thức pháp luật trên địa bàn tỉnh Hưng Yên"})]})})}C.propTypes={};export{C as default};
