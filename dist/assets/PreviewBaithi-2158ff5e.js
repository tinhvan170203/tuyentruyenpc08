import{r as l,d as a,j as s,S as k,s as N,I as w,F as g}from"./index-b04b101c.js";import{D as C,d as O}from"./Cancel-1752d52c.js";import{c as E}from"./commonApi-4da8ee31.js";import{a as T}from"./Radio-d2a8073b.js";const _=(e,r,t)=>{if(e===r===t||e===t&&r!==t)return"primary";if(e!==t&&r===t)return"error"},j=({question:e,index:r})=>{const[t,o]=l.useState(()=>e.choice);return l.useEffect(()=>{o(e.choice)},[e]),a("div",{className:"mb-1",children:[s("h4",{className:"font-semibold text-black text-sm md:text-[16px]",children:a("span",{className:"font-bold",children:[" ",a("span",{className:e.answer!==e.choice?"text-red-600":"",children:["Câu ",r,": "," ",e.question]})]})}),s("ul",{className:"flex flex-col flex-wrap md:flex-row",children:e.options.map((c,h)=>a("li",{className:"flex items-start md:basis-1/2",children:[s(T,{name:e._id,checked:t===Object.keys(c)[0]||e.answer===Object.keys(c)[0],color:_(t,e.answer,Object.keys(c)[0]),value:Object.keys(c)[0]}),s("span",{className:"text-sm md:text-[16px] pt-[10px]",children:c[Object.keys(c)[0]]})]},h))})]})},v=l.forwardRef(function(r,t){return s(k,{direction:"up",ref:t,...r})}),S=N(w)({position:"absolute",right:"16px",top:"4px"});function W({open:e,onCloseDialogPreviewBaithi:r,idBaithi:t}){const[o,c]=l.useState([]),[h,f]=l.useState(0);return l.useEffect(()=>{e===!0&&(async(m,I)=>{try{let p=await E.previewTest(t);f(p.data.choicedTrue);let x=[];p.data.questionList.forEach(i=>{let u=[];i.options_sort.forEach(n=>u=[...u,{[n]:i.questionlist[n]}]);const b=u.map(n=>Object.fromEntries(Object.entries(n).filter(([B,y])=>y!==""))).filter(n=>Object.keys(n).length>0);x.push({question:i.questionlist.question,answer:i.questionlist.answer,choice:i.choice,_id:i.questionlist._id,options:b})}),c(x)}catch(p){console.log(p.message)}})()},[t,e]),s(g,{children:a(C,{maxWidth:"2xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(d,m)=>{m!=="backdropClick"&&r(d,m)},open:e,TransitionComponent:v,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",sx:{zIndex:1500},children:[s(S,{onClick:()=>r(),children:s(O,{style:{color:"#d32b2b"}})}),s("div",{className:"px-1 py-2",children:a("div",{className:"md:px-12 py-4 md:mx-2 mt-4",children:[a("p",{className:"text-sm md:text-[16px] font-semibold",children:["Bạn đã trả lời đúng ",h," đáp án."]}),s("p",{className:"mb-4 italic text-red-600 text-sm md:text-[16px]",children:" Những câu hỏi bạn trả lời sai, đáp án đúng là đáp án được tô đỏ."}),o==null?void 0:o.map((d,m)=>s(j,{question:d,index:m+1},d._id))]})})]})})}export{W as P};
