import{J as se,K as ce,s as G,M as de,_ as D,r as p,N as ue,O as j,P as he,Q as pe,R as ae,j as e,U as W,d as c,V as me,W as Ie,X as We,Y as Ue,Z as O,$ as H,a0 as je,a1 as ge,a2 as be,a3 as fe,a4 as xe,a5 as V,S as ye,I as F,c as K,a as $,u as X,F as J,D as Ce,e as ve,f as _e,g as Se,h as we,B as Q,L as Pe,G as f,i as C,k as De,l as T,m as Y,o as Z,n as ke,v as U,w as x,y as He,z as Ke,a6 as E,T as Xe,a7 as Je,q as Qe,t as Ye,x as Ze,a8 as et,a9 as tt,aa as ne,ab as le,ac as oe,ad as ie,p as at,C as nt,A as lt,ae as ot,E as it,H as re}from"./index-18fc9f55.js";import{d as rt,a as st}from"./Backspace-45f5cd73.js";import{q as ct}from"./base-312a79a2.js";import{R as dt,a as ut}from"./Radio-e27bc0b8.js";import{S as Re}from"./index-e229fb0d.js";function ht(t){return ce("MuiFormControlLabel",t)}const pt=se("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),B=pt,mt=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","slotProps","value"],gt=t=>{const{classes:a,disabled:i,labelPlacement:l,error:n}=t,o={root:["root",i&&"disabled",`labelPlacement${de(l)}`,n&&"error"],label:["label",i&&"disabled"]};return me(o,ht,a)},bt=G("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:i}=t;return[{[`& .${B.label}`]:a.label},a.root,a[`labelPlacement${de(i.labelPlacement)}`]]}})(({theme:t,ownerState:a})=>D({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${B.disabled}`]:{cursor:"default"}},a.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},a.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},a.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${B.label}`]:{[`&.${B.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),ft=p.forwardRef(function(a,i){var l;const n=ue({props:a,name:"MuiFormControlLabel"}),{className:o,componentsProps:h={},control:d,disabled:m,disableTypography:r,label:s,labelPlacement:g="end",slotProps:v={}}=n,_=j(n,mt),k=he();let S=m;typeof S>"u"&&typeof d.props.disabled<"u"&&(S=d.props.disabled),typeof S>"u"&&k&&(S=k.disabled);const y={disabled:S};["checked","name","onChange","value","inputRef"].forEach(w=>{typeof d.props[w]>"u"&&typeof n[w]<"u"&&(y[w]=n[w])});const I=pe({props:n,muiFormControl:k,states:["error"]}),R=D({},n,{disabled:S,labelPlacement:g,error:I.error}),q=gt(R),z=(l=v.typography)!=null?l:h.typography;let N=s;return N!=null&&N.type!==ae&&!r&&(N=e(ae,D({component:"span"},z,{className:W(q.label,z==null?void 0:z.className),children:N}))),c(bt,D({className:W(q.root,o),ownerState:R,ref:i},_,{children:[p.cloneElement(d,y),N]}))}),xt=ft;function yt(t){return ce("MuiFormGroup",t)}se("MuiFormGroup",["root","row","error"]);const Ct=["className","row"],vt=t=>{const{classes:a,row:i,error:l}=t;return me({root:["root",i&&"row",l&&"error"]},yt,a)},_t=G("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:i}=t;return[a.root,i.row&&a.row]}})(({ownerState:t})=>D({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),St=p.forwardRef(function(a,i){const l=ue({props:a,name:"MuiFormGroup"}),{className:n,row:o=!1}=l,h=j(l,Ct),d=he(),m=pe({props:l,muiFormControl:d,states:["error"]}),r=D({},l,{row:o,error:m.error}),s=vt(r);return e(_t,D({className:W(s.root,n),ownerState:r,ref:i},h))}),wt=St,Pt=["actions","children","defaultValue","name","onChange","value"],Dt=p.forwardRef(function(a,i){const{actions:l,children:n,defaultValue:o,name:h,onChange:d,value:m}=a,r=j(a,Pt),s=p.useRef(null),[g,v]=Ie({controlled:m,default:o,name:"RadioGroup"});p.useImperativeHandle(l,()=>({focus:()=>{let y=s.current.querySelector("input:not(:disabled):checked");y||(y=s.current.querySelector("input:not(:disabled)")),y&&y.focus()}}),[]);const _=We(i,s),k=Ue(h),S=p.useMemo(()=>({name:k,onChange(y){v(y.target.value),d&&d(y,y.target.value)},value:g}),[k,d,v,g]);return e(dt.Provider,{value:S,children:e(wt,D({role:"radiogroup",ref:_},r,{children:n}))})}),kt=Dt,A={getCauhois(t){const a=`/api/cau-hoi/fetch/${t.id_monthi}`;return O.get(a,{params:t})},addCauhoi(t){const a="/api/cau-hoi/add";return O.post(a,t)},editCauhoi(t){const a=`/api/cau-hoi/edit/${t.id_edit}`;return O.put(a,t)},deleteCauhoi(t,a){const i=`/api/cau-hoi/delete/${t}`;return O.delete(i,{params:a})}},Ne=t=>{var s;const{name:a,label:i,disabled:l,form:n,options:o,defaultValue:h}=t,{formState:{errors:d},formState:m}=n,r=d[a]&&m.touchedFields[a];return c(H,{fullWidth:!0,margin:"normal",children:[e(je,{id:a,children:e("span",{className:"font-bold text-black",children:i})}),e(ge,{name:a,control:n.control,render:({field:g})=>e(kt,{...g,"aria-labelledby":a,defaultValue:h,children:o.map(v=>e(xt,{value:v.value,control:e(ut,{}),label:v.label},v.value))})}),e(be,{error:r,children:e("span",{className:"text-red-600",children:(s=d[a])==null?void 0:s.message})})]})},Rt=t=>{var r;const{name:a,label:i,disabled:l,form:n,options:o}=t,{formState:{errors:h},formState:d}=n,m=h[a]&&d.touchedFields[a];return c(H,{fullWidth:!0,size:"small",margin:"normal",children:[e(fe,{id:a,children:i}),e(ge,{control:n.control,name:a,render:({field:s})=>e(xe,{...s,label:i,autoWidth:!1,labelId:a,disabled:l,children:(o==null?void 0:o.length)===0?e(V,{value:"",disabled:!0,children:"Không có lựa chọn"}):[e(V,{value:"",children:"Tất cả"},""),o==null?void 0:o.map(g=>e(V,{value:g.value,children:g.label},g.label))]})}),e(be,{error:m,children:(r=h[a])==null?void 0:r.message})]})},Nt=p.forwardRef(function(a,i){return e(ye,{direction:"up",ref:i,...a})}),Tt=G(F)({position:"absolute",right:"16px",top:"4px"}),Lt=K({question:$().required("Lỗi: Vui lòng nhập nội dung câu hỏi"),chuyende:$().required("Vui lòng chọn chuyên đề, phần thi"),answer:$().required("Lỗi: Vui lòng chọn đáp án đúng")}).required();function Ft({open:t,onCloseDialogAddCauhoi:a,chuyendeList:i,onSubmit:l}){const n=X({defaultValues:{question:"",option_a:"",option_b:"",option_c:"",option_d:"",option_e:"",answer:null,image:"",chuyende:""},resolver:Z(Lt)}),o=n.setValue,h=n.watch,d=async r=>{l&&(await l(r),o("question",""),o("option_a",""),o("option_b",""),o("option_c",""),o("option_d",""),o("option_e",""),o("answer",null))},{isSubmitting:m}=n.formState;return e(J,{children:c(Ce,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(r,s)=>{s!=="backdropClick"&&a(r,s)},open:t,TransitionComponent:Nt,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[c(ve,{style:{display:"flex",borderBottom:"1px solid #ccc",margin:"0 12px"},children:[e(_e,{style:{color:"#333",fontSize:"32px"}}),e("span",{children:"Thêm mới câu hỏi trắc nghiệm"}),e(Tt,{onClick:()=>a(),children:e(Se,{style:{color:"#d32b2b"}})})]}),e(we,{children:c(Q,{children:[m?e(Pe,{}):"",c("form",{onSubmit:n.handleSubmit(d),style:{width:"100%"},children:[c(f,{container:!0,spacing:1,style:{alignItems:"center",justifyContent:"center"},children:[e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"question",form:n,label:"Nội dung câu hỏi *",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"image",form:n,label:"URL hình ảnh",type:"text",disabled:!1})}),h("image")!==""&&e("div",{className:"md:w-[400px]",children:e("img",{src:h("image"),alt:"ảnh câu hỏi"})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(Re,{name:"chuyende",form:n,label:"Chuyên đề, phần thi",options:i,disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_a",form:n,label:"Đáp án A",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_b",form:n,label:"Đáp án B",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_c",form:n,label:"Đáp án C",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_d",form:n,label:"Đáp án D",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_e",form:n,label:"Đáp án E",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(Ne,{name:"answer",form:n,label:"Đáp án đúng:",type:"text",disabled:!1,options:[{value:"option_a",label:"Đáp án A"},{value:"option_b",label:"Đáp án B"},{value:"option_c",label:"Đáp án C"},{value:"option_d",label:"Đáp án D"},{value:"option_e",label:"Đáp án E"}]})})]}),e(De,{children:c(T,{color:"primary",variant:"contained",disabled:m,type:"submit",style:{margin:"4px auto"},children:[e(Y,{}),e("span",{children:"Thêm mới câu hỏi"})]})})]})]})})]})})}const $t=t=>{if(t==="option_a")return"A";if(t==="option_b")return"B";if(t==="option_c")return"C";if(t==="option_d")return"D";if(t==="option_e")return"E"},qt=({row:t,onClickOpenDialogEdit:a,onClickOpenDialogDelete:i})=>{p.useState(null);const l=ke(n=>n.authReducer.roles_x01);return c(U,{children:[e(x,{className:"border-r border-slate-300",align:"left",children:t.question}),e(x,{className:"border-r border-slate-300",align:"left",children:t.chuyende.title}),e(x,{className:"border-r border-slate-300",align:"left",children:t.option_a}),e(x,{className:"border-r border-slate-300",align:"left",children:t.option_b}),e(x,{className:"border-r border-slate-300",align:"left",children:t.option_c}),e(x,{className:"border-r border-slate-300",align:"left",children:t.option_d}),e(x,{className:"border-r border-slate-300",align:"left",children:t.option_e}),e(x,{className:"border-r border-slate-300",align:"left",style:{fontWeight:"bold"},children:$t(t.answer)}),c(x,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1",style:{width:"180px"},children:[l&&l.includes("sửa câu hỏi")&&e(T,{variant:"contained",color:"success",size:"small",onClick:()=>a(t),children:e(He,{style:{fontSize:"20px"}})}),l&&l.includes("xóa câu hỏi")&&e(T,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>i(t._id),children:e(Ke,{style:{fontSize:"20px"}})})]})]},t._id)};function Te(t){const a=tt(),{count:i,page:l,rowsPerPage:n,onPageChange:o}=t,h=s=>{o(s,0)},d=s=>{o(s,l-1)},m=s=>{o(s,l+1)},r=s=>{o(s,Math.max(0,Math.ceil(i/n)-1))};return c(Q,{sx:{flexShrink:0,ml:2.5},children:[e(F,{onClick:h,disabled:l===0,"aria-label":"first page",children:a.direction==="rtl"?e(ne,{}):e(le,{})}),e(F,{onClick:d,disabled:l===0,"aria-label":"previous page",children:a.direction==="rtl"?e(oe,{}):e(ie,{})}),e(F,{onClick:m,disabled:l>=Math.ceil(i/n)-1,"aria-label":"next page",children:a.direction==="rtl"?e(ie,{}):e(oe,{})}),e(F,{onClick:r,disabled:l>=Math.ceil(i/n)-1,"aria-label":"last page",children:a.direction==="rtl"?e(le,{}):e(ne,{})})]})}Te.propTypes={count:E.number.isRequired,onPageChange:E.func.isRequired,page:E.number.isRequired,rowsPerPage:E.number.isRequired};function zt({list:t,onClickOpenDialogEdit:a,onClickOpenDialogDelete:i}){const[l,n]=p.useState(0),[o,h]=p.useState(10),d=l>0?Math.max(0,(1+l)*o-t.length):0,m=(s,g)=>{n(g)},r=s=>{h(parseInt(s.target.value,10)),n(0)};return c(J,{children:[e(Xe,{component:Je,children:c(Qe,{"aria-label":"custom pagination table",children:[e(Ye,{children:c(U,{children:[e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Nội dung câu hỏi"}),e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Chuyên đề"}),e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Đáp án A"}),e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Đáp án B"}),e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Đáp án C"}),e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Đáp án D"}),e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Đáp án E"}),e(x,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2"},children:"Đáp án"}),e(x,{align:"center",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"#1976d2",maxWidth:"150px"},children:"Thao tác"})]})}),c(Ze,{children:[(o>0?t.slice(l*o,l*o+o):t).map(s=>e(qt,{row:s,onClickOpenDialogEdit:a,onClickOpenDialogDelete:i},s._id)),d>0&&e(U,{style:{height:53*d},children:e(x,{colSpan:6})})]})]})}),e("div",{children:e(et,{rowsPerPageOptions:[10,25,50,100,{label:"Tất cả",value:-1}],count:t.length,rowsPerPage:o,page:l,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},component:"div",onPageChange:m,onRowsPerPageChange:r,ActionsComponent:Te,labelRowsPerPage:"Số bản ghi hiển thị trên mỗi trang",labelDisplayedRows:function({from:g,to:v,count:_}){return`hiển thị ${g} đến ${v} bản ghi trong tổng số ${_!==-1?_:`more than ${v}`} bản ghi`}})})]})}const Vt=p.forwardRef(function(a,i){return e(ye,{direction:"up",ref:i,...a})}),Mt=G(F)({position:"absolute",right:"16px",top:"4px"}),Ot=K({question:$().required("Lỗi: Vui lòng nhập nội dung câu hỏi"),chuyende:$().required("Vui lòng chọn chuyên đề, phần thi"),answer:$().required("Lỗi: Vui lòng chọn đáp án đúng")}).required();function Et({open:t,onCloseDialogEdit:a,chuyendeList:i,item:l,onSubmit:n}){console.log(i);const o=X({defaultValues:{question:"",option_a:"",option_b:"",option_c:"",option_d:"",option_e:"",image:"",answer:null,chuyende:""},resolver:Z(Ot)}),h=o.setValue,d=o.watch;p.useEffect(()=>{l&&(h("question",l.question,{shouldValidate:!0}),h("chuyende",l.chuyende._id,{shouldValidate:!0}),h("image",l.image&&l.image!==""?l.image:""),h("option_a",l.option_a),h("option_b",l.option_b),h("option_c",l.option_c),h("option_d",l.option_d),h("option_e",l.option_e),h("answer",l.answer,{shouldValidate:!0}))},[l]);const m=async s=>{if(n){const g={...s,id_edit:l._id};await n(g),a()}},{isSubmitting:r}=o.formState;return e(J,{children:c(Ce,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(s,g)=>{g!=="backdropClick"&&a(s,g)},open:t,TransitionComponent:Vt,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[c(ve,{style:{display:"flex",borderBottom:"1px solid #ccc",margin:"0 12px"},children:[e(_e,{style:{color:"#333",fontSize:"32px"}}),e("span",{children:"Chỉnh sửa câu hỏi trắc nghiệm"}),e(Mt,{onClick:()=>a(),children:e(Se,{style:{color:"#d32b2b"}})})]}),e(we,{children:c(Q,{children:[r?e(Pe,{}):"",c("form",{onSubmit:o.handleSubmit(m),style:{width:"100%"},children:[c(f,{container:!0,spacing:1,style:{alignItems:"center",justifyContent:"center"},children:[e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"question",form:o,label:"Nội dung câu hỏi *",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"image",form:o,label:"URL hình ảnh",type:"text",disabled:!1})}),d("image")!==""&&e("div",{className:"md:w-[400px]",children:e("img",{src:d("image"),alt:"ảnh câu hỏi"})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(Re,{name:"chuyende",form:o,label:"Chuyên đề, phần thi",options:i,disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_a",form:o,label:"Đáp án A",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_b",form:o,label:"Đáp án B",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_c",form:o,label:"Đáp án C",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_d",form:o,label:"Đáp án D",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(C,{name:"option_e",form:o,label:"Đáp án E",type:"text",disabled:!1})}),e(f,{item:!0,xs:12,md:12,lg:12,children:e(Ne,{name:"answer",form:o,label:"Đáp án đúng:",type:"text",disabled:!1,options:[{value:"option_a",label:"Đáp án A"},{value:"option_b",label:"Đáp án B"},{value:"option_c",label:"Đáp án C"},{value:"option_d",label:"Đáp án D"},{value:"option_e",label:"Đáp án E"}]})})]}),e(De,{children:c(T,{color:"primary",variant:"contained",disabled:r,type:"submit",style:{margin:"4px auto"},children:[e(Y,{}),e("span",{children:"Cập nhật"})]})})]})]})})]})})}const Bt=K({}).required(),jt=()=>{const t=X({defaultValues:{question:""},resolver:Z(Bt)}),a=ke(u=>u.authReducer.roles_x01),[i,l]=p.useState([]),[n,o]=p.useState(null),[h,d]=p.useState([]),m=at(),{enqueueSnackbar:r}=nt();let[s,g]=lt();const[v,_]=p.useState(!1),[k,S]=p.useState([]),[y,I]=p.useState([]),[R,q]=p.useState({status:!1,item:null}),z=u=>{q({item:u,status:!0})},N=()=>{q({...R,status:!1})},[w,M]=p.useState({status:!1,id_Delete:null}),Le=u=>{M({status:!0,id_Delete:u})},Fe=()=>{M({...w,status:!1})},$e=()=>{M({...w,status:!1})},L=p.useMemo(()=>{const u=ct.parse(location.search);return{...u,question:u.question||"",chuyende:u.chuyende||""}},[location.search]);p.useEffect(()=>{(async()=>{try{let b=await re.getMonthiOfUser();l(b.data.quantrinhommonthi),S(b.data.donviList)}catch(b){b.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(m("/login"),r(b.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})),r(b.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})}})()},[]),p.useEffect(()=>{n&&(async()=>{try{_(!0);let b=await A.getCauhois({...L,id_monthi:n}),P=await re.getChuyendes({id_monthi:n});I(P.data.map(te=>({label:te.title,value:te._id}))),d(b.data),_(!1)}catch(b){b.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(m("/login"),r(b.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})),r(b.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})}})()},[n,L]);const qe=u=>{o(u.target.value)},ze=async u=>{g({...L,...u})},Ve=()=>{t.reset()},[Me,ee]=p.useState(!1),Oe=()=>{ee(!1)},Ee=()=>{ee(!0)},Be=async u=>{if(!n){r("Vui lòng chọn môn thi",{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"});return}try{let b={...u,queryParams:L,monthi:n},P=await A.addCauhoi(b);d(P.data.items),r("Thêm mới thành công!",{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"})}catch(b){b.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(m("/login"),r(b.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})),r(b.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"}),_(!1)}},Ae=async u=>{const b={...u,queryParams:L,monthi:n};try{let P=await A.editCauhoi(b);d(P.data.items),r(P.data.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"})}catch(P){P.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(m("/login"),r(P.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})),r(P.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})}},Ge=async()=>{try{let u=await A.deleteCauhoi(w.id_Delete,{...L,monthi:n});d(u.data.items),M({...w,status:!1}),r(u.data.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"})}catch(u){u.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(m("/login"),r(u.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})),r(u.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"})}};return c("div",{className:"mx-2 bg-white pb-2 px-4 shadow-2xl",children:[c("div",{className:"py-4 mt-2",children:[e("div",{className:"my-2 mb-4",children:c(H,{fullWidth:!0,children:[e(fe,{id:"demo-simple-select-label",children:"Ngân hàng câu hỏi của môn thi"}),c(xe,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Ngân hàng câu hỏi của môn thi",value:n!==null?n:" ",size:"small",onChange:qe,children:[e(V,{value:" ",disabled:!0,hidden:!0,children:"Vui lòng chọn môn thi"}),i.map(u=>e(V,{value:u._id,children:u.tenmonthi},u._id))]})]})}),e("form",{onSubmit:t.handleSubmit(ze),className:"shadow-lg shadow-slate-400 rounded-xl mt-8",children:c("fieldset",{style:{border:"1px solid #ccc",paddingBlockEnd:"12px"},children:[e("legend",{style:{paddingInline:"12px",fontWeight:"bold"},children:"Tra cứu câu hỏi:"}),c("div",{className:"flex p-4 flex-1 flex-wrap",children:[e("div",{className:"px-1 w-full md:basis-1/2",children:e(C,{name:"question",form:t,label:"Nội dung câu hỏi",type:"text",disabled:!1})}),e("div",{className:"px-1 w-full md:basis-1/2",children:e(Rt,{name:"chuyende",form:t,label:"Chuyên đề, phần thi",disabled:!1,options:y})})]}),c("div",{className:"flex px-4 flex-col space-y-2 md:space-y-0 md:space-x-2 md:items-center md:justify-center md:flex-row",children:[c(T,{color:"primary",variant:"contained",type:"submit",children:[e(rt,{}),e("span",{children:"Tìm kiếm câu hỏi"})]}),c(T,{variant:"contained",onClick:Ve,color:"warning",children:[e("span",{className:"mr-2",children:"Xóa trắng"}),e(st,{})]})]})]})}),a&&a.includes("thêm câu hỏi")&&e("div",{className:"text-end mb-4 mt-8",children:c(T,{variant:"contained",onClick:Ee,children:[e(Y,{}),"Thêm mới câu hỏi"]})}),v&&e(ot,{open:v})]}),e("div",{className:"shadow-lg shadow-slate-400 pb-2 mb-4",children:e(zt,{list:h,item:R.item,onClickOpenDialogDelete:Le,onClickOpenDialogEdit:z})}),e(Ft,{open:Me,onCloseDialogAddCauhoi:Oe,onSubmit:Be,chuyendeList:y}),e(Et,{open:R.status,item:R.item,onCloseDialogEdit:N,onSubmit:Ae,chuyendeList:y}),e(it,{open:w.status,onCloseDialogDelete:Fe,onConfirmDelete:Ge,onCancelDelete:$e})]})};export{jt as default};
